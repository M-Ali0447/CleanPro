# üó∫Ô∏è –ü–õ–ê–ù –î–û–†–ê–ë–û–¢–ö–ò CLEANPRO

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-12-18
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞**: Stage 1 (Security) - 95% –∑–∞–≤–µ—Ä—à–µ–Ω

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –†–ê–ë–û–¢–´ (Stage 1: Security)

### 1. **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π** ‚úÖ
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω bcrypt
- ‚úÖ –í—Å–µ –ø–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –ë–î (salt rounds = 10)
- ‚úÖ Login –∏—Å–ø–æ–ª—å–∑—É–µ—Ç bcrypt.compare() –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ä–æ–ª–µ–π (migratePasswords.js)
- ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω 1 —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∞–¥–º–∏–Ω
- üìç –§–∞–π–ª—ã: `server.js:410, 115, 671, 795`

### 2. **SQL Injection Prevention** ‚úÖ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ 28 SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã ($1, $2, etc.)
- ‚úÖ –ù–µ—Ç –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –≤–≤–æ–¥–æ–º
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –∑–∞—â–∏—â–µ–Ω –æ—Ç SQL injection

### 3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚úÖ
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω winston
- ‚úÖ –°–æ–∑–¥–∞–Ω logger.js (283 —Å—Ç—Ä–æ–∫–∏)
- ‚úÖ 6 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–æ–≥–≥–µ—Ä–æ–≤:
  - authLogger - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  - dbLogger - —Ä–∞–±–æ—Ç–∞ —Å –ë–î
  - apiLogger - API –∑–∞–ø—Ä–æ—Å—ã
  - securityLogger - —É–≥—Ä–æ–∑—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  - businessLogger - –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏ (–∑–∞–∫–∞–∑—ã, –æ—Ç–∑—ã–≤—ã)
- ‚úÖ 4 —Ñ–∞–π–ª–∞ –ª–æ–≥–æ–≤:
  - combined.log - –≤—Å–µ –ª–æ–≥–∏
  - error.log - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
  - auth.log - —Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  - database.log - —Ç–æ–ª—å–∫–æ –ë–î
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è (5MB –º–∞–∫—Å, 5 —Ñ–∞–π–ª–æ–≤)
- üìç –§–∞–π–ª: `logger.js:283 lines`

### 4. **Rate Limiting** ‚úÖ
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω express-rate-limit
- ‚úÖ –°–æ–∑–¥–∞–Ω rateLimiter.js (154 —Å—Ç—Ä–æ–∫–∏)
- ‚úÖ 7 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ª–∏–º–∏—Ç–µ—Ä–æ–≤:
  1. **loginLimiter**: 5 –ø–æ–ø—ã—Ç–æ–∫ / 15 –º–∏–Ω—É—Ç (anti-bruteforce)
  2. **publicApiLimiter**: 20 –∑–∞–ø—Ä–æ—Å–æ–≤ / 10 –º–∏–Ω—É—Ç
  3. **orderCreationLimiter**: 10 –∑–∞–∫–∞–∑–æ–≤ / —á–∞—Å (–∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º-–∑–∞–∫–∞–∑–æ–≤)
  4. **reviewCreationLimiter**: 3 –æ—Ç–∑—ã–≤–∞ / 24 —á–∞—Å–∞ (–∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º-–æ—Ç–∑—ã–≤–æ–≤)
  5. **adminApiLimiter**: 100 –∑–∞–ø—Ä–æ—Å–æ–≤ / 15 –º–∏–Ω—É—Ç
  6. **adminCreationLimiter**: 5 —Å–æ–∑–¥–∞–Ω–∏–π –∞–¥–º–∏–Ω–æ–≤ / —á–∞—Å
  7. **globalLimiter**: 60 –∑–∞–ø—Ä–æ—Å–æ–≤ / –º–∏–Ω—É—Ç—É (–æ–±—â–∞—è –∑–∞—â–∏—Ç–∞ API)
- ‚úÖ –í—Å–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ securityLogger
- ‚úÖ HTTP 429 —Å—Ç–∞—Ç—É—Å —Å Retry-After –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- üìç –§–∞–π–ª: `rateLimiter.js:154 lines`

### 5. **JWT Authentication** ‚úÖ
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω jsonwebtoken
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π Base64 –Ω–∞ JWT —Ç–æ–∫–µ–Ω—ã
- ‚úÖ –¢–æ–∫–µ–Ω—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º (JWT_SECRET –≤ .env)
- ‚úÖ –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: 24 —á–∞—Å–∞ (JWT_EXPIRES_IN –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: TokenExpiredError, JsonWebTokenError
- ‚úÖ Middleware verifyAdmin –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –¥–ª—è JWT
- ‚úÖ Login endpoint –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JWT –≤–º–µ—Å—Ç–æ Base64
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:
  - ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–Ω—ã–º JWT
  - ‚úÖ –û—Ç–∫–∞–∑ —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
  - ‚úÖ –û—Ç–∫–∞–∑ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞
  - ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫
- üìç –§–∞–π–ª—ã: `server.js:154-187, 432-441`, `.env:9-10`

### 6. **CORS –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** ‚úÖ
- ‚úÖ Whitelist —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö origins
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –Ω–µ—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ CORS –Ω–∞—Ä—É—à–µ–Ω–∏–π –≤ securityLogger
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ origin (curl, Postman, mobile apps)
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ .env (ALLOWED_ORIGINS)
- ‚úÖ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: http://localhost:5006, http://127.0.0.1:5006
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:
  - ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–π origin - –¥–æ—Å—Ç—É–ø –æ—Ç–∫—Ä—ã—Ç
  - ‚úÖ –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–π origin - –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
  - ‚úÖ –ë–µ–∑ origin - —Ä–∞–∑—Ä–µ—à–µ–Ω
- üìç –§–∞–π–ª—ã: `server.js:35-56`, `.env:12-16`, `logger.js:206-212`

---

## üî¥ –ö–†–ò–¢–ò–ß–ù–´–ï –ó–ê–î–ê–ß–ò (–¢–†–ï–ë–£–Æ–¢ –ù–ï–ú–ï–î–õ–ï–ù–ù–û–ì–û –í–ù–ò–ú–ê–ù–ò–Ø)

### ‚ö†Ô∏è **TASK 1: –û–±–Ω–æ–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é —á–∞—Å—Ç—å –¥–ª—è JWT** (–ö–†–ò–¢–ò–ß–ù–û!)
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô
**–ü—Ä–æ–±–ª–µ–º–∞**: –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT, –Ω–æ admin.js –≤—Å–µ –µ—â–µ –æ–∂–∏–¥–∞–µ—Ç —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å**:
1. –û–±–Ω–æ–≤–∏—Ç—å `admin.js`:
   - JWT —Ç–æ–∫–µ–Ω—ã —É–∂–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞, –Ω–æ –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è token –≤ localStorage
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>`
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π flow:
   - Login ‚Üí –ø–æ–ª—É—á–µ–Ω–∏–µ JWT
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - Logout ‚Üí –æ—á–∏—Å—Ç–∫–∞ —Ç–æ–∫–µ–Ω–∞

**–§–∞–π–ª—ã**: `admin.js`

---

## üü° –≠–¢–ê–ü 2: –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨ (HIGH PRIORITY)

### **TASK 2: –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í–´–°–û–ö–ò–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
1. **–ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤**:
   - –ü–æ –∏–º–µ–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞
   - –ü–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞
   - –ü–æ –Ω–æ–º–µ—Ä—É –∑–∞–∫–∞–∑–∞
   - –ü–æ —Å—Ç–∞—Ç—É—Å—É
   - –ü–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç
2. **–ü–æ–∏—Å–∫ –æ—Ç–∑—ã–≤–æ–≤**:
   - –ü–æ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É
   - –ü–æ –¥–∞—Ç–µ
3. **–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**:
   - –ü–æ –∏–º–µ–Ω–∏
   - –ü–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
   - –ü–æ email

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
- Backend: `server.js` (–Ω–æ–≤—ã–µ API endpoints —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
- Frontend: `admin.js` (UI –¥–ª—è –ø–æ–∏—Å–∫–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤)
- Frontend: `admin.html` (–¥–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—ã –ø–æ–∏—Å–∫–∞)

**–ü—Ä–∏–º–µ—Ä API**:
```javascript
GET /api/admin/orders?search=John&status=pending&dateFrom=2025-01-01&dateTo=2025-12-31
GET /api/admin/reviews?rating=5&search=excellent
GET /api/admin/users?phone=998901234567
```

---

### **TASK 3: –ü–∞–≥–∏–Ω–∞—Ü–∏—è**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í–´–°–û–ö–ò–ô

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–µ–π—á–∞—Å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Å—Ä–∞–∑—É. –ü—Ä–∏ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ.

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
1. Backend –ø–∞–≥–∏–Ω–∞—Ü–∏—è:
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `page`, `limit` (default: 20 –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É)
   - –í–µ—Ä–Ω—É—Ç—å metadata: `totalPages`, `currentPage`, `totalItems`
2. Frontend pagination controls:
   - –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
   - –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (10, 20, 50, 100)

**–ü—Ä–∏–º–µ—Ä API**:
```javascript
GET /api/admin/orders?page=1&limit=20
Response: {
  success: true,
  data: [...],
  pagination: {
    currentPage: 1,
    totalPages: 5,
    totalItems: 95,
    itemsPerPage: 20
  }
}
```

**–§–∞–π–ª—ã**: `server.js`, `admin.js`, `admin.html`

---

### **TASK 4: Excel —ç–∫—Å–ø–æ—Ä—Ç**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í–´–°–û–ö–ò–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É: `npm install exceljs`
2. –°–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞:
   - `GET /api/admin/orders/export` - —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
   - `GET /api/admin/reviews/export` - —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –æ—Ç–∑—ã–≤–æ–≤
   - `GET /api/admin/users/export` - —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞: `.xlsx`
4. –í–∫–ª—é—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã (—ç–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
5. Frontend: –∫–Ω–æ–ø–∫–∏ "–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel" –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–§–∞–π–ª—ã**: –Ω–æ–≤—ã–π `excelExport.js`, `server.js`, `admin.js`, `admin.html`

---

### **TASK 5: Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í–´–°–û–ö–ò–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: `npm install nodemailer`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SMTP –≤ `.env`:
   ```
   EMAIL_HOST=smtp.gmail.com
   EMAIL_PORT=587
   EMAIL_USER=your@email.com
   EMAIL_PASS=yourpassword
   ```
3. –°–æ–∑–¥–∞—Ç—å `emailService.js` —Å —à–∞–±–ª–æ–Ω–∞–º–∏:
   - –ù–æ–≤—ã–π –∑–∞–∫–∞–∑ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
   - –ù–æ–≤—ã–π –æ—Ç–∑—ã–≤ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É
4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints

**–§–∞–π–ª—ã**: –Ω–æ–≤—ã–π `emailService.js`, `server.js`, `.env`

---

### **TASK 6: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í–´–°–û–ö–ò–ô

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–µ–π—á–∞—Å –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è, –Ω—É–∂–Ω–∞ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: `npm install joi`
2. –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö endpoints:
   - Orders: name (2-100 chars), phone (uzbek format), service_type (enum), date (future date)
   - Reviews: user_name (2-100 chars), rating (1-5), review_text (10-1000 chars)
   - Admins: username (3-50 chars), password (8+ chars, —Å–ª–æ–∂–Ω–æ—Å—Ç—å), email (valid format)
3. Middleware –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
4. –í–æ–∑–≤—Ä–∞—Ç –ø–æ–Ω—è—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç—É

**–ü—Ä–∏–º–µ—Ä**:
```javascript
const orderSchema = Joi.object({
  name: Joi.string().min(2).max(100).required(),
  phone: Joi.string().pattern(/^\+998\d{9}$/).required(),
  service_type: Joi.string().valid('uy', 'ofis', 'restoran').required(),
  date: Joi.date().greater('now').required()
});
```

**–§–∞–π–ª—ã**: –Ω–æ–≤—ã–π `validation.js`, `server.js`

---

## üü¢ –≠–¢–ê–ü 3: –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ò –ö–û–î (MEDIUM PRIORITY)

### **TASK 7: –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –°–†–ï–î–ù–ò–ô

**–ü—Ä–æ–±–ª–µ–º–∞**: –í–µ—Å—å –∫–æ–¥ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ `server.js` (900+ —Å—Ç—Ä–æ–∫). –¢—Ä—É–¥–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.

**–¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```
cleanpro/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.js       # DB connection pool
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ env.js            # Environment config
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cors.js           # CORS config
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js           # verifyAdmin, verifySuperAdmin
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validation.js     # Joi validation middleware
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ errorHandler.js   # Global error handler
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ public.routes.js  # Public API (orders, reviews)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.routes.js   # Admin API (stats, CRUD)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.routes.js    # Login/logout
‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orderController.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reviewController.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ userController.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ adminController.js
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ emailService.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ excelService.js
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ logger.js         # –£–∂–µ –µ—Å—Ç—å
‚îÇ       ‚îî‚îÄ‚îÄ rateLimiter.js    # –£–∂–µ –µ—Å—Ç—å
‚îú‚îÄ‚îÄ server.js                 # –¢–æ–ª—å–∫–æ app init –∏ middleware setup
‚îî‚îÄ‚îÄ package.json
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –õ–µ–≥—á–µ –Ω–∞–π—Ç–∏ –∫–æ–¥
- –ü—Ä–æ—â–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- –õ—É—á—à–µ –¥–ª—è teamwork
- Easier to scale

---

### **TASK 8: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –°–†–ï–î–ù–ò–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
1. –°–æ–∑–¥–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π error handler middleware
2. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫:
   ```javascript
   {
     success: false,
     error: {
       code: "VALIDATION_ERROR",
       message: "Invalid phone format",
       details: {...}
     }
   }
   ```
3. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP –∫–æ–¥—ã:
   - 400 - Bad Request (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
   - 401 - Unauthorized (–Ω–µ—Ç/–Ω–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω)
   - 403 - Forbidden (–Ω–µ—Ç –ø—Ä–∞–≤)
   - 404 - Not Found
   - 409 - Conflict (–¥—É–±–ª–∏–∫–∞—Ç)
   - 429 - Too Many Requests (rate limit)
   - 500 - Internal Server Error
4. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏ 500
5. –ù–ï —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–µ—Ç–∞–ª–∏ –≤ production

**–§–∞–π–ª—ã**: –Ω–æ–≤—ã–π `middleware/errorHandler.js`, `server.js`

---

### **TASK 9: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –°–†–ï–î–ù–ò–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: `npm install --save-dev jest supertest`
2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã:
   - **Unit tests**: –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–≤–∞–ª–∏–¥–∞—Ü–∏—è, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
   - **Integration tests**: API endpoints
   - **E2E tests**: –ø–æ–ª–Ω—ã–µ user flows
3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
   ```
   tests/
   ‚îú‚îÄ‚îÄ unit/
   ‚îÇ   ‚îú‚îÄ‚îÄ validation.test.js
   ‚îÇ   ‚îî‚îÄ‚îÄ auth.test.js
   ‚îú‚îÄ‚îÄ integration/
   ‚îÇ   ‚îú‚îÄ‚îÄ orders.test.js
   ‚îÇ   ‚îú‚îÄ‚îÄ reviews.test.js
   ‚îÇ   ‚îî‚îÄ‚îÄ admin.test.js
   ‚îî‚îÄ‚îÄ setup.js
   ```
4. –î–æ–±–∞–≤–∏—Ç—å –≤ `package.json`:
   ```json
   "scripts": {
     "test": "jest",
     "test:watch": "jest --watch",
     "test:coverage": "jest --coverage"
   }
   ```

**–¶–µ–ª—å**: –º–∏–Ω–∏–º—É–º 70% code coverage

---

### **TASK 10: Environment variables –¥–ª—è production**
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û (—Ñ–∞–π–ª .env —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –°–†–ï–î–ù–ò–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ .env:
   - ‚úÖ JWT_SECRET (—É–∂–µ –µ—Å—Ç—å)
   - ‚úÖ DB credentials (—É–∂–µ –µ—Å—Ç—å)
   - ‚ùå EMAIL credentials (–¥–æ–±–∞–≤–∏—Ç—å)
   - ‚ùå NODE_ENV (–¥–æ–±–∞–≤–∏—Ç—å: development/production)
2. –°–æ–∑–¥–∞—Ç—å `.env.example` –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
   ```
   # Database
   DB_USER=postgres
   DB_PASSWORD=your_password_here

   # JWT
   JWT_SECRET=generate_secure_random_string_here

   # Email
   EMAIL_HOST=smtp.gmail.com
   EMAIL_USER=your_email@gmail.com

   # CORS
   ALLOWED_ORIGINS=http://localhost:5006
   ```
3. –î–æ–±–∞–≤–∏—Ç—å `.env` –≤ `.gitignore` (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)
4. –†–∞–∑–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è dev/production:
   - Production: —Å—Ç—Ä–æ–≥–∏–µ CORS, –∫–æ—Ä–æ—Ç–∫–∏–µ error messages
   - Development: verbose logging, detailed errors

---

## üîµ –≠–¢–ê–ü 4: UI/UX –£–õ–£–ß–®–ï–ù–ò–Ø (LOW PRIORITY)

### **TASK 11: Responsive design —É–ª—É—á—à–µ–Ω–∏—è**
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û (–µ—Å—Ç—å `responsive-fixes.css`)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–ò–ó–ö–ò–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (320px, 375px, 768px)
- –£–ª—É—á—à–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –º–∞–ª—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö (card view –≤–º–µ—Å—Ç–æ table)
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ñ–æ—Ä–º—ã

---

### **TASK 12: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–µ –¥–∏–∞–ª–æ–≥–∏**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–ò–ó–ö–ò–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º (–∑–∞–∫–∞–∑, –æ—Ç–∑—ã–≤, –∞–¥–º–∏–Ω)
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
- –ö—Ä–∞—Å–∏–≤—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –≤–º–µ—Å—Ç–æ `confirm()`

---

### **TASK 13: –£–ª—É—á—à–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ë–ê–ó–û–í–´–ï –ï–°–¢–¨ (alert)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–ò–ó–ö–ò–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
- –ó–∞–º–µ–Ω–∏—Ç—å `alert()` –Ω–∞ toast notifications
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞: toastify-js –∏–ª–∏ notyf
- –†–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è success/error/warning/info
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 3-5 —Å–µ–∫—É–Ω–¥

---

### **TASK 14: Dashboard –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ë–ê–ó–û–í–ê–Ø –ï–°–¢–¨ (—á–∏—Å–ª–∞)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–ò–ó–ö–ò–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
- –ì—Ä–∞—Ñ–∏–∫–∏ (Chart.js —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω!):
  - –ó–∞–∫–∞–∑—ã –ø–æ –¥–Ω—è–º/–Ω–µ–¥–µ–ª—è–º/–º–µ—Å—è—Ü–∞–º
  - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–∏–ø—ã —É—Å–ª—É–≥
  - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –æ—Ç–∑—ã–≤–æ–≤
- –¢–æ–ø –∫–ª–∏–µ–Ω—Ç—ã (–±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤)
- Revenue tracking (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—Å—è —Ü–µ–Ω–∞)

---

## üü£ –≠–¢–ê–ü 5: –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò (OPTIONAL)

### **TASK 15: SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü£ –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SMS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º (Eskiz.uz, Playmobile.uz)
- SMS –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞
- SMS –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞

---

### **TASK 16: Telegram –±–æ—Ç**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü£ –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: `npm install node-telegram-bot-api`
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É –≤ Telegram –ø—Ä–∏ –Ω–æ–≤–æ–º –∑–∞–∫–∞–∑–µ/–æ—Ç–∑—ã–≤–µ
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–∫–∞–∑—ã –∏–∑ Telegram

---

### **TASK 17: –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–∫–∞–∑–æ–≤**
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü£ –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è FullCalendar.js
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
- Drag-and-drop –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞—Ç—ã

---

### **TASK 18: –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (RBAC)**
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ë–ê–ó–û–í–ê–Ø –ï–°–¢–¨ (admin/super_admin)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü£ –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –µ—Å—Ç—å 2 —Ä–æ–ª–∏ (admin, super_admin), –Ω–æ limited permissions

**–ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å**:
- –ë–æ–ª—å—à–µ —Ä–æ–ª–µ–π: viewer, moderator, manager, super_admin
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞:
  - viewer: —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä
  - moderator: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞–º–∏
  - manager: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
  - super_admin: –≤—Å–µ –ø—Ä–∞–≤–∞
- –¢–∞–±–ª–∏—Ü–∞ permissions –≤ –ë–î
- Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

---

### **TASK 19: Audit log**
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û (–µ—Å—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü£ –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô

**–ß—Ç–æ –Ω—É–∂–Ω–æ**:
- –¢–∞–±–ª–∏—Ü–∞ `audit_log` –≤ –ë–î:
  - id, admin_id, action, entity_type, entity_id, old_value, new_value, timestamp
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
  - –ö—Ç–æ —Å–æ–∑–¥–∞–ª/–∏–∑–º–µ–Ω–∏–ª/—É–¥–∞–ª–∏–ª –∑–∞–∫–∞–∑
  - –ö—Ç–æ —Å–æ–∑–¥–∞–ª/—É–¥–∞–ª–∏–ª –æ—Ç–∑—ã–≤
  - –ö—Ç–æ —Å–æ–∑–¥–∞–ª/–∏–∑–º–µ–Ω–∏–ª/—É–¥–∞–ª–∏–ª –∞–¥–º–∏–Ω–∞
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ –∞–¥–º–∏–Ω–∫–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ audit log

---

### **TASK 20: API Rate limiting –ø–æ IP + User**
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ï–°–¢–¨ –ü–û IP
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü£ –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ô

**–¢–µ–∫—É—â–µ–µ**: Rate limiting —Ç–æ–ª—å–∫–æ –ø–æ IP

**–£–ª—É—á—à–µ–Ω–∏–µ**: –∫–æ–º–±–∏–Ω–∞—Ü–∏—è IP + userId –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üìä –ü–†–ò–û–†–ò–¢–ò–ó–ê–¶–ò–Ø –ó–ê–î–ê–ß

### üî¥ –î–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–° (Critical):
1. ‚úÖ Task 1: –û–±–Ω–æ–≤–∏—Ç—å admin.js –¥–ª—è JWT - **–ö–†–ò–¢–ò–ß–ù–û, –∏–Ω–∞—á–µ –∞–¥–º–∏–Ω–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**

### üü° –î–µ–ª–∞—Ç—å –°–õ–ï–î–£–Æ–©–ò–ú (High Priority):
2. Task 2: –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
3. Task 3: –ü–∞–≥–∏–Ω–∞—Ü–∏—è
4. Task 6: –í–∞–ª–∏–¥–∞—Ü–∏—è (Joi)
5. Task 4: Excel —ç–∫—Å–ø–æ—Ä—Ç
6. Task 5: Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### üü¢ –î–µ–ª–∞—Ç—å –ü–û–¢–û–ú (Medium Priority):
7. Task 7: –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
8. Task 8: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
9. Task 9: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
10. Task 10: Environment variables

### üîµ –î–µ–ª–∞—Ç—å –ö–û–ì–î–ê –ë–£–î–ï–¢ –í–†–ï–ú–Ø (Low Priority):
11. Task 11-14: UI/UX —É–ª—É—á—à–µ–Ω–∏—è

### üü£ –î–µ–ª–∞—Ç—å –ü–û –ñ–ï–õ–ê–ù–ò–Æ (Optional):
12. Task 15-20: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

---

## üìà –ú–ï–¢–†–ò–ö–ò –ü–†–û–ì–†–ï–°–°–ê

### Stage 1 (Security): 95% ‚úÖ
- ‚úÖ Password hashing
- ‚úÖ SQL injection check
- ‚úÖ Logging
- ‚úÖ Rate limiting
- ‚úÖ JWT authentication
- ‚úÖ CORS restrictions
- ‚ö†Ô∏è Client-side JWT integration (–æ—Å—Ç–∞–ª–æ—Å—å)

### Stage 2 (Functionality): 0% ‚ùå
### Stage 3 (Architecture): 0% ‚ùå
### Stage 4 (UI/UX): 20% ‚ö†Ô∏è (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å—Ç–∫–∞ –µ—Å—Ç—å)
### Stage 5 (Optional): 0% ‚ùå

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∞**: ~22% –∑–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –ü–û–†–Ø–î–û–ö –í–´–ü–û–õ–ù–ï–ù–ò–Ø

**–ù–µ–¥–µ–ª—è 1**:
1. Task 1: JWT integration –≤ admin.js (1 –¥–µ–Ω—å)
2. Task 6: Joi validation (2 –¥–Ω—è)
3. Task 2: –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (2 –¥–Ω—è)

**–ù–µ–¥–µ–ª—è 2**:
4. Task 3: –ü–∞–≥–∏–Ω–∞—Ü–∏—è (2 –¥–Ω—è)
5. Task 7: –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (3 –¥–Ω—è)

**–ù–µ–¥–µ–ª—è 3**:
6. Task 4: Excel —ç–∫—Å–ø–æ—Ä—Ç (2 –¥–Ω—è)
7. Task 5: Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (2 –¥–Ω—è)
8. Task 8: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (1 –¥–µ–Ω—å)

**–ù–µ–¥–µ–ª—è 4**:
9. Task 9: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (3 –¥–Ω—è)
10. Task 11-14: UI/UX –ø–æ–ª–∏—Ä–æ–≤–∫–∞ (2 –¥–Ω—è)

**–ò—Ç–æ–≥–æ**: ~1 –º–µ—Å—è—Ü –¥–æ production-ready –≤–µ—Ä—Å–∏–∏

---

## üöÄ –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò –ö PRODUCTION

- [x] –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (JWT, bcrypt, rate limiting, CORS)
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
- [ ] –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞
- [ ] –¢–µ—Å—Ç—ã (–º–∏–Ω–∏–º—É–º 70% coverage)
- [ ] –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- [ ] –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- [ ] Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (‚úÖ —É–∂–µ –µ—Å—Ç—å)
- [ ] Environment variables –¥–ª—è –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤
- [ ] Production build –ø—Ä–æ—Ü–µ—Å—Å
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- [ ] User documentation

**–¢–µ–∫—É—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: ~30%
**–î–æ production**: ~70% —Ä–∞–±–æ—Ç—ã –æ—Å—Ç–∞–ª–æ—Å—å

---

## üìù –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Stage 1 –ø–æ—á—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω, –æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç
2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –º–∞–ª–æ–≥–æ/—Å—Ä–µ–¥–Ω–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
3. **Performance**: –ü—Ä–∏ >10000 –∑–∞–∫–∞–∑–æ–≤ –Ω—É–∂–Ω—ã –±—É–¥—É—Ç –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î
4. **Backup**: –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–π backup PostgreSQL
5. **Monitoring**: –í production –Ω—É–∂–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (PM2, New Relic, –∏–ª–∏ –ø–æ–¥–æ–±–Ω–æ–µ)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-12-18 20:10
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π**: Claude Code
**–°–ª–µ–¥—É—é—â–∏–π review**: –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Task 1
